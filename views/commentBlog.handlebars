  
  <div>
  <h2>{{blog.title}}</h2>
  <p>{{blog.content}}</p>
  <p>Created By: <b>{{blog.User.name}}</b> at {{{formatDate blog.created_at}}}</p>
</div>

<div>
  <h3>Add a comment</h3>
  <form id="comment-form">
    <textarea id="comment-content" rows="4" cols="50" placeholder="Enter your comment"></textarea>
    <br>
    <button type="submit" id="comment-submit">Submit</button>
  </form>
</div>

<div>
  <h3>Comments</h3>
  <ul id="comment-list">
    {{#each comments as |comment|}}
    <li>
      <p>{{comment.content}}</p>
      <p>By {{comment.User.name}} at {{{formatDate comment.created_at}}}}</p>
    </li>
    {{/each}}
  </ul>
</div>

<script>
  const commentForm = document.getElementById('comment-form');
  const commentContent = document.getElementById('comment-content');
  const commentList = document.getElementById('comment-list');

  commentForm.addEventListener('submit', async (event) => {
    event.preventDefault();

    // Send a POST request to the server to create a new comment
    const response = await fetch('/comments/create', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        content: commentContent.value,
        blogId: '{{blog.id}}' // Replace with the actual blogId
      })
    });

    if (response.ok) {
      // Add the new comment to the list
      const comment = await response.json();
      commentList.insertAdjacentHTML('beforeend', `
        <li>
          <p>${comment.content}</p>
          <p>By ${comment.User.name} at ${formatDate(comment.created_at)}</p>
        </li>
      `);

      // Clear the comment form
      commentContent.value = '';
    } else {
      // Display an error message
      console.error('Failed to create comment');
    }
  });
</script>